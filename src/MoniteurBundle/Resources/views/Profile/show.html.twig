{% extends "PriveeBundle:Privee:index.html.twig" %}

{% block header %}
        <header id="header" class="alt">
        <div id="div_logo">
            <h1 id="logo">
                <a href="{{path("Moniteur_accueil")}}">
                    <img src="{{ asset('bundles/public/assets/css/images/logo.jpg')}}" title="Accueil" alt="logo" height="60" width="60"/>
                </a>
            </h1>
        </div>          
            <!-- Menu -->
            {% block menu %}
                <nav id="nav">
                    <a href="{{path("Moniteur_accueil")}}">Accueil</a>
                    <a href="{{path("Moniteur_calendrier")}}">Calendrier</a>
                    <a href="{{path("fos_moniteur_profile_edit")}}">Paramètres</a>
                    <a href="{{path("fos_user_security_logout")}}"  id="deconnexionBouton">Deconnexion</a>                    
                </nav>  
            {% endblock %}        
        </header>        
{% endblock %}

{% block contenu %}   
    <div id="mesInfosCompte">
        <table>
            <th>Mes informations</th>
            <tr><td>Statut</td><td>Moniteur</td></tr>            
            <tr><td>Identité</td><td>{{ user.prenom}} {{ user.nom }}</td></tr>
            <tr><td>Email</td><td>{{ user.email }}</td></tr>
            <tr><td>Téléphone</td><td>0{{ formatPhone(user.telephone) }}</td></tr>
        </table>
        <button type="button"  id='mesClientsMoniteur' class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Mes clients</button></li>
    </div>
    
    <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">    
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>          
            <h4 class='modal-title' id='myModalLabel'>Entrer le nom d'une personne</h4>
          </div>
          <div class="modal-body">
                <div class="autocomplete" style="width:300px;">
                  <input id="myInput" type="text" name="nom_client" placeholder="Saisit un nom">                  
                  <button type="button" id='rechercherClient'class="btn btn-success btn" data-dismiss="modal">Ok</button>                  
                </div>            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
          </div>
        </div>      
      </div>
    </div>
            
    <script>

            $("#rechercherClient").click(function(){
                var nom = $("#myInput").val();
                $.post("{{ (path('Moniteur_client'))}}",{nom:nom},function( data ) {
                    $("#contenu").html(data);
                });
            });
    </script>
{% endblock contenu %}